(function(e){function t(t){for(var i,a,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"016e":function(e,t,n){"use strict";var i=n("d430"),r=n.n(i);r.a},"0607":function(e,t,n){},1798:function(e,t,n){},2089:function(e,t,n){},"2f01":function(e,t,n){"use strict";var i=n("b407"),r=n.n(i);r.a},"3c8c":function(e,t,n){"use strict";var i=n("a66f"),r=n.n(i);r.a},"436a":function(e,t,n){},4379:function(e,t,n){},4666:function(e,t,n){"use strict";var i=n("dad4"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-navigation")],1)},s=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"success"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/home"}},[e._v(" Home ")])],1),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/addrecipe"}},[e._v(" Add Recipe ")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/allrecipes"}},[e._v(" All Recipes ")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/list"}},[e._v(" List ")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/search"}},[e._v(" Search ")])],1)],1)],1)],1),n("div",{staticClass:"content"},[n("router-view")],1)],1)},o=[],c={},u=c,l=(n("7df9"),n("2877")),p=Object(l["a"])(u,a,o,!1,null,"0997a7d8",null),d=p.exports,h={created:function(){this.$store.dispatch("getAllRecipes"),this.$store.dispatch("getAllIngredients")},components:{"app-navigation":d}},m=h,g=Object(l["a"])(m,r,s,!1,null,null,null),v=g.exports,f=n("8c4f"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[1===e.currentRegistrationStep?n("app-recipedetails",{on:{recipeRegistered:e.registerRecipe}}):e._e(),2===e.currentRegistrationStep?n("app-ingredients",{attrs:{currentRecipe:e.registeredRecipe},on:{allIngredientsRegistered:e.allIngredientsRegistered}}):e._e(),3===e.currentRegistrationStep?n("app-steps",{attrs:{currentRecipe:e.registeredRecipe},on:{closeAndReset:e.recipeComplete}}):e._e()],1)},b=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Lägg till recept")]),n("p",[e._v("Här kan du ladda upp ditt eget recept. Följ stegen för att börja")]),n("b-form",{on:{submit:e.onSubmit,reset:e.onReset}},[n("b-form-group",{attrs:{id:"input-group-1"}},[n("b-form-input",{attrs:{id:"input-1",placeholder:e.namePlaceholderMessage},model:{value:e.recipeName,callback:function(t){e.recipeName=t},expression:"recipeName"}})],1),n("b-form-group",{attrs:{id:"input-group-2"}},[n("b-form-input",{attrs:{id:"input-2",placeholder:e.ownerPlaceholderMessage},model:{value:e.recipeOwner,callback:function(t){e.recipeOwner=t},expression:"recipeOwner"}})],1),n("b-form-group",{attrs:{id:"input-group-3"}},[n("b-form-input",{attrs:{id:"input-3",placeholder:e.minutesPlaceholderMessage},model:{value:e.minutesToPrepare,callback:function(t){e.minutesToPrepare=t},expression:"minutesToPrepare"}})],1),n("b-form-group",{attrs:{id:"input-group-4"}},[n("b-form-input",{attrs:{id:"input-4",placeholder:e.servingsPlaceholderMessage},model:{value:e.noServings,callback:function(t){e.noServings=t},expression:"noServings"}})],1),n("b-form-group",{attrs:{id:"input-group-5"}},[n("b-form-input",{attrs:{id:"input-5",placeholder:e.descriptionPlaceholderMessage},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1)},S=[],R=(n("a4d3"),n("e01a"),n("bdac")),N=n("bc3a"),k=n.n(N),E={data:function(){return{recipeName:null,recipeOwner:null,minutesToPrepare:null,noServings:null,description:null,namePlaceholderMessage:"Namn på receptet",ownerPlaceholderMessage:"Ditt namn",minutesPlaceholderMessage:"Antal minuter för tillagning",servingsPlaceholderMessage:"Antal portioner",descriptionPlaceholderMessage:"Kort beskrivning"}},methods:{onSubmit:function(e){e.preventDefault(),this.checkAndSend()},onReset:function(){this.recipeName=null,this.recipeOwner=null,this.minutesToPrepare=null,this.noServings=null,this.description=null,this.namePlaceholderMessage="Namnge receptet",this.ownerPlaceholderMessage="Ditt namn",this.minutesPlaceholderMessage="Antal minuter för tillagning",this.servingsPlaceholderMessage="Antal portioner",this.descriptionPlaceholderMessage="Kort beskrivning"},checkAndSend:function(){null===this.recipeName&&(this.namePlaceholderMessage="Du måste namnge receptet"),null===this.recipeOwner&&(this.ownerPlaceholderMessage="Du måste ge ett namn"),null===this.minutesToPrepare&&(this.minutesPlaceholderMessage="Du måste ange ett minutantal"),null===this.noServings&&(this.servingsPlaceholderMessage="Du måste ange ett antal portioner"),null===this.description&&(this.descriptionPlaceholderMessage="Du måste ange en beskrivning"),null!==this.recipeName&&null!==this.recipeOwner&&this.registerRecipe()},registerRecipe:function(){var e=this,t={title:this.recipeName,owner:this.recipeOwner,preparationTimeMinutes:this.minutesToPrepare,noPortions:this.noServings,instructions:this.description};k.a.post(R.MAIN+R.ADD_RECIPE,t).then((function(t){e.onReset(),e.$emit("recipeRegistered",t.data)}))}}},w=E,A=Object(l["a"])(w,_,S,!1,null,"52420d25",null),T=A.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Registrera ingredienser")]),e._v(" "+e._s(e.ingredients)+" "),n("p",[e._v("Registrera ingredienserna till receptet "),n("strong",[e._v(e._s(e.currentRecipe.title))])]),n("h2",[e._v("Ingredienser till "+e._s(e.currentRecipe.title))]),e._l(e.registeredRecipeIngredients,(function(t,i){return n("p",{key:t.name},[e._v(" "+e._s(e.getAdjustedAmountString(t.amount,t.unit))+" "+e._s(t.name)+" "),n("b-button",{on:{click:function(n){return e.removeRecipeIngredient(t.id,i)}}},[e._v(" Ta bort ")])],1)})),n("label",{attrs:{for:"input-with-list"}},[e._v("Lägg till ingrediens")]),n("b-form-input",{attrs:{list:"input-list",id:"input-with-list",placeholder:"Write ingredient",disabled:e.preventSubmit},model:{value:e.ingredientName,callback:function(t){e.ingredientName=t},expression:"ingredientName"}}),n("b-form-datalist",{attrs:{id:"input-list",options:e.ingredients}}),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:e.onSubmit}},[e._v("Submit")]),n("b-button",{attrs:{type:"reset",variant:"danger"},on:{click:e.onReset}},[e._v("Reset")]),n("b-modal",{attrs:{"hide-footer":"","hide-header":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[null===this.currentIngredientUnit?n("app-new-unit",{on:{unitChosen:e.setUnit}}):e._e()],1),"WEIGHT"===this.currentIngredientUnit?n("app-weight",{on:{calculatedAmount:e.amountReceived}}):e._e(),"VOLUME"===this.currentIngredientUnit?n("app-volume",{on:{calculatedAmount:e.amountReceived}}):e._e(),"AMOUNT"===this.currentIngredientUnit?n("app-amount",{on:{calculatedAmount:e.amountReceived}}):e._e(),n("div",[n("b-button",{attrs:{variant:"success",disabled:e.notFinishedWithIngredients},on:{click:e.noMoreRecipeIngredients}},[e._v("Klar!")])],1)],2)},P=[],C=(n("a434"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Write units"},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}}),n("label",{staticClass:"mr-sm-2",attrs:{for:"inline-form-custom-select-pref"}},[e._v("Preference")]),n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{value:null,options:e.options,id:"inline-form-custom-select-pref"},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{domProps:{value:null}},[e._v("Choose...")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Save")])],1)],1)}),M=[],O=(n("ac1f"),n("5319"),{data:function(){return{options:{1:"ML",2:"KRM",3:"TSK",4:"CL",5:"MSK",6:"DL",7:"L"},value:null,units:null}},methods:{onSave:function(){if(null===this.value||null===this.units||""===this.units)alert("Set values");else if(isNaN(this.units)){var e=this.tryToFixNaN();isNaN(e)||(this.units=e,this.$emit("calculatedAmount",this.calculateValue()))}else this.$emit("calculatedAmount",this.calculateValue())},tryToFixNaN:function(){return this.units.replace(",",".")},calculateValue:function(){switch(this.value){case"1":return this.units;case"2":return this.units;case"3":return 5*this.units;case"4":return 10*this.units;case"5":return 15*this.units;case"6":return 100*this.units;case"7":return 1e3*this.units;default:return-1}}}}),y=O,U=Object(l["a"])(y,C,M,!1,null,"58a9d48e",null),$=U.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Ny ingrediens")]),n("div",{staticClass:"description"},[e._v(" Den här ingrediensen känner vi inte till sedan tidigare. För att vi skall kunna Registrera den behöver vi veta vilken enhet den skall ha (för att automatiskt kunna summera ingredienser). ")]),e._m(0),e._m(1),e._m(2),n("b-form",{attrs:{inline:""}},[n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{value:null,options:e.options,id:"inline-form-custom-select-pref"},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{domProps:{value:null}},[e._v("Välj enhet...")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Registrera")])],1)],1)},L=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measures"},[n("strong",[e._v("VOLUME")]),e._v(" är för ingredienser som normalt kommer att med något volymmått (ex mililiter). Som ris eller mjölk.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measures"},[n("strong",[e._v("WEIGHT")]),e._v(" är för ingredienser som normalt kommer att doseras i gramvikter")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measures"},[n("strong",[e._v("AMOUNT")]),e._v(" är för ingredienser som normalt kommer att doseras i antal (ex tre äggulor).")])}],j={data:function(){return{options:[{value:"1",text:"VOLUME"},{value:"2",text:"WEIGHT"},{value:"3",text:"AMOUNT"}],value:null}},methods:{onSave:function(){if(null!==this.value){var e=null;switch(this.value){case"1":e="VOLUME";break;case"2":e="WEIGHT";break;case"3":e="AMOUNT";break}this.$emit("unitChosen",e)}}}},G=j,V=(n("9424"),Object(l["a"])(G,D,L,!1,null,"932f67e6",null)),F=V.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Write units"},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}}),n("label",{staticClass:"mr-sm-2",attrs:{for:"inline-form-custom-select-pref"}},[e._v("Preference")]),n("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{value:null,options:e.options,id:"inline-form-custom-select-pref"},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{domProps:{value:null}},[e._v("Choose...")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Spara")])],1)],1)},B=[],H={data:function(){return{options:{1:"GR",2:"HG",3:"KG"},value:null,units:null}},methods:{onSave:function(){if(null===this.value||null===this.units||""===this.units)alert("Set values");else if(isNaN(this.units)){var e=this.tryToFixNaN();isNaN(e)||(this.units=e,this.$emit("calculatedAmount",this.calculateValue()))}else this.$emit("calculatedAmount",this.calculateValue())},tryToFixNaN:function(){return this.units.replace(",",".")},calculateValue:function(){switch(this.value){case"1":return this.units;case"2":return 100*this.units;case"3":return 1e3*this.units;default:return-1}}}},q=H,K=Object(l["a"])(q,W,B,!1,null,"7a7a8916",null),J=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Write units"},model:{value:e.units,callback:function(t){e.units=t},expression:"units"}}),n("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Save")])],1)],1)},z=[],Q={data:function(){return{units:null}},methods:{onSave:function(){this.$emit("calculatedAmount",this.units)}}},Y=Q,Z=Object(l["a"])(Y,X,z,!1,null,"400190b7",null),ee=Z.exports,te={props:["currentRecipe"],data:function(){return{ingredients:[],registeredRecipeIngredients:[],currentIngredientUnit:"",notFinishedWithIngredients:!0,ingredientName:null,amount:null,ingredientId:null,namePlaceholderMessage:"Write name of ingredient",preventSubmit:!1}},computed:{show:function(){return null===this.currentIngredientUnit}},methods:{filterIngredientNames:function(){for(var e=0;e<this.$store.state.allIngredients.length;e++)this.ingredients.push(this.$store.state.allIngredients[e].name)},removeRecipeIngredient:function(e,t){this.registeredRecipeIngredients.splice(t,1),this.deleteRecipeIngredient(e)},deleteRecipeIngredient:function(e){k.a.delete(R.MAIN+R.DELETE_RECIPE_INGREDIENT+e)},getUnit:function(){for(var e=0;e<this.$store.state.allIngredients.length;e++)if(this.$store.state.allIngredients[e].name===this.ingredientName)return this.$store.state.allIngredients[e];return null},setUnit:function(e){this.currentIngredientUnit=e,this.registerNewIngredient()},amountReceived:function(e){this.amount=e,this.registerNewRecipeIngredient(),this.notFinishedWithIngredients=!1},onSubmit:function(e){e.preventDefault();var t=this.getUnit();null===t?this.currentIngredientUnit=null:(this.currentIngredientUnit=t.units,this.ingredientId=t.id,this.preventSubmit=!0)},onReset:function(){this.currentIngredientUnit="",this.ingredientName=null,this.amount=null,this.ingredientId=null,this.preventSubmit=!1},pushToRegistered:function(e){var t={id:e,name:this.ingredientName,amount:this.amount,unit:this.currentIngredientUnit};this.registeredRecipeIngredients.push(t)},getAdjustedAmountString:function(e,t){switch(t){case"WEIGHT":return this.getWeightAmount(e);case"VOLUME":return this.getVolumeAmount(e);default:return e+" st"}},getVolumeAmount:function(e){return e%1e3===0?e/1e3+" l":e%100===0?e/100+" dl":e%10===0?e/10+" cl":e+" ml"},getWeightAmount:function(e){return e%1e3===0?e/1e3+" kg":e%100===0?e/100+" hg":e+" g"},noMoreRecipeIngredients:function(){this.$emit("allIngredientsRegistered")},registerNewIngredient:function(){var e=this,t={name:this.ingredientName,unit:this.currentIngredientUnit};k.a.post(R.MAIN+R.ADD_INGREDIENT,t).then((function(t){e.ingredientId=t.data.id,e.$store.dispatch("getAllIngredients"),e.preventSubmit=!1}))},registerNewRecipeIngredient:function(){var e=this,t={recipeId:this.currentRecipe.id,ingredientId:this.ingredientId,amount:this.amount};k.a.post(R.MAIN+R.ADD_RECIPE_INGREDIENT,t).then((function(t){e.pushToRegistered(t.data.id),e.onReset()}))}},created:function(){this.filterIngredientNames()},components:{"app-volume":$,"app-weight":J,"app-new-unit":F,"app-amount":ee}},ne=te,ie=Object(l["a"])(ne,x,P,!1,null,"b453d1c2",null),re=ie.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Lägg till receptsteg")]),n("p",[e._v("Nu ska vi beskriva hur man kan laga receptet. Steg för steg.")]),n("b-form",{on:{submit:e.onSubmit,reset:e.onReset}},[n("b-form-group",{attrs:{id:"input-group-1"}},[n("b-form-input",{attrs:{id:"input-1",placeholder:e.orderPlaceholderMessage},model:{value:e.instruction,callback:function(t){e.instruction=t},expression:"instruction"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1),n("div",[e.stepInstructions.length>0?n("h2",[e._v("Steg för steg "+e._s(e.currentRecipe.title))]):e._e(),n("ol",e._l(e.stepInstructions,(function(t,i){return n("li",{key:i},[e._v(e._s(t)+" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){return e.changeStep(i,t)}}},[e._v("Change")]),0!==i?n("b-button",{attrs:{variant:"outline-success"},on:{click:function(t){return e.moveUp(i)}}},[e._v("Upp")]):e._e(),i!==e.stepInstructions.length-1?n("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e.moveDown(i)}}},[e._v("Ner")]):e._e()],1)})),0),n("b-button",{attrs:{variant:"success"},on:{click:e.registerRecipe}},[e._v("Klar...inga fler steg att registrera ")])],1)],1)},ae=[],oe={props:["currentRecipe"],data:function(){return{orderPlaceholderMessage:"Vad händer i detta steg",currentlyChanginStep:null,changedInstruction:null,instruction:null,stepInstructions:[]}},methods:{onSubmit:function(e){e.preventDefault(),null===this.currentlyChanginStep?this.stepInstructions.push(this.instruction):(this.stepInstructions[this.currentlyChanginStep]=this.instruction,this.currentlyChanginStep=null)},moveUp:function(e){var t=this.stepInstructions[e];this.stepInstructions.splice(e,1),this.stepInstructions.splice(e-1,0,t)},moveDown:function(e){var t=this.stepInstructions[e];this.stepInstructions.splice(e,1),this.stepInstructions.splice(e+1,0,t)},changeStep:function(e,t){alert(e+" "+t),this.instruction=t,this.currentlyChanginStep=e},onReset:function(){this.orderPlaceholderMessage="Vad händer i detta steg"},checkAndSend:function(){null===this.instruction&&(this.orderPlaceholderMessage="Du måste skriva en instruction"),null!==this.instruction&&this.registerRecipe()},registerRecipe:function(){var e=this;k.a.post(R.MAIN+R.ADD_STEPS,this.createRecipeStepObject()).then((function(t){201===t.status&&e.closeAndReset()}))},createRecipeStepObject:function(){for(var e=[],t=0;t<this.stepInstructions.length;t++){var n=t+1,i={sequence:n,instruction:this.stepInstructions[t]};e.push(i)}var r={recipeId:this.currentRecipe.id,steps:e};return r},closeAndReset:function(){this.$emit("closeAndReset")}}},ce=oe,ue=Object(l["a"])(ce,se,ae,!1,null,"fb50705a",null),le=ue.exports,pe={data:function(){return{registeredRecipe:null,currentRegistrationStep:1}},methods:{registerRecipe:function(e){this.registeredRecipe=e,this.currentRegistrationStep=2},allIngredientsRegistered:function(){this.currentRegistrationStep=3},recipeComplete:function(){this.registeredRecipe=null,this.currentRegistrationStep=1,this.$store.dispatch("getAllRecipes")}},components:{"app-recipedetails":T,"app-ingredients":re,"app-steps":le}},de=pe,he=(n("016e"),Object(l["a"])(de,I,b,!1,null,"584aa216",null)),me=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[n("h1",[e._v("All recipes")]),e._l(e.$store.state.allRecipes,(function(t){return n("div",{key:t.id,on:{click:function(n){return e.chooseRecipe(t)}}},[e._v(e._s(t.title))])})),""!==e.chosenRecipe?n("app-recipe",{attrs:{recipe:e.chosenRecipe,show:e.modalShow},on:{closeModal:e.closeModal}}):e._e()],2)},ve=[],fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{attrs:{"hide-footer":"","hide-header":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("h1",[e._v(e._s(e.recipe.title))]),n("div",[e._v(e._s(e.completeRecipe.instructions))]),n("div",[e._v("Tillagning: "+e._s(e.completeRecipe.preparationTimeMinutes)+" minuter")]),n("div",[e._v("Antal portioner: "+e._s(e.completeRecipe.noPortions)+" personer")]),n("h2",[e._v("Ingredienser")]),n("ul",e._l(e.completeRecipe.ingredients,(function(t){return n("li",{key:t.id},[e._v(" "+e._s(e.getAmountsAsString(t.amount,t.units))+" "+e._s(t.ingredientName)+" ")])})),0),n("h2",[e._v("Steg")]),n("ol",e._l(e.sortedSteps,(function(t){return n("li",{key:t.id},[e._v(" "+e._s(t.instruction)+" ")])})),0),n("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(t){return e.sendRecipeId(e.completeRecipe.recipeId,e.completeRecipe.title)}}},[e._v("Add to list")]),n("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:e.hideModal}},[e._v("Close Me")]),n("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:e.updateRecipe}},[e._v("Update")])],1)],1)},Ie=[],be={data:function(){return{completeRecipe:{},sortedSteps:[]}},methods:{updateRecipe:function(){this.$router.push({name:"update",params:this.recipe})},fetchCompleteRecipe:function(){var e=this;k.a.get(R.MAIN+R.GET_RECIPE+this.recipe.id).then((function(t){e.completeRecipe=t.data,e.sortedSteps=JSON.parse(JSON.stringify(t.data.steps)).sort(e.compare)}))},hideModal:function(){this.$emit("closeModal")},sendRecipeId:function(e,t){this.$store.commit("addChosenDrinkId",{recipeId:e,title:t})},getAmountsAsString:function(e,t){switch(t){case"AMOUNT":return e+" st";case"WEIGHT":return e%1e3===0?e/1e3+" kg":e%100===0?e/100+" hg":e+" g";case"VOLUME":return e%1e3===0?e/1e3+" l":e%100===0?e/100+" dl":e%10===0?e/10+" cl":e+" ml"}},compare:function(e,t){return e.sequence>t.sequence?1:e.sequence<t.sequence?-1:0}},props:["recipe","show"],created:function(){this.fetchCompleteRecipe()},watch:{recipe:function(){this.fetchCompleteRecipe()}}},_e=be,Se=Object(l["a"])(_e,fe,Ie,!1,null,"e7002c40",null),Re=Se.exports,Ne={methods:{chooseRecipe:function(e){this.modalShow=!0,this.chosenRecipe=e},closeModal:function(){this.modalShow=!1}},data:function(){return{modalShow:!1,chosenRecipe:""}},components:{"app-recipe":Re}},ke=Ne,Ee=(n("2f01"),Object(l["a"])(ke,ge,ve,!1,null,"77f5a6f6",null)),we=Ee.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[n("h1",[e._v("Ingredienser")]),n("label",[e._v(" Antal portioner ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.noServings,expression:"noServings"}],attrs:{type:"text"},domProps:{value:e.noServings},on:{input:function(t){t.target.composing||(e.noServings=t.target.value)}}}),n("div",[n("ul",e._l(e.accumulatedIngredients,(function(t){return n("li",{key:t.ingredientName},[e._v(" "+e._s(e.getUnitString(t.amount*e.noServings,t.units))+" of "+e._s(t.ingredientName)+" ")])})),0)]),n("h1",[e._v("Recept")]),n("div",[n("ul",e._l(this.$store.state.chosenDrinks,(function(t){return n("li",{key:t.id},[e._v(" "+e._s(t.title)+" "),n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.removeRecipe(t.id)}}},[e._v("Remove")])],1)})),0)])])},Te=[],xe=(n("d81d"),{created:function(){this.fetchIngredientsForChosenRecipes()},data:function(){return{recipeAndIngredients:[],accumulatedIngredients:[],noServings:4}},computed:{chosenIds:function(){return this.$store.state.chosenDrinks.map((function(e){return e.recipeId}))}},methods:{removeRecipe:function(e){this.$store.commit("removeRecipe",e),this.fetchIngredientsForChosenRecipes()},getUnitString:function(e,t){switch(t){case"AMOUNT":return e+"st";case"WEIGHT":return this.getWeightString(e);case"VOLUME":return this.getVolumeString(e)}},getVolumeString:function(e){return e%1e3===0?e/1e3+" l":e%100===0?e/100+" dl":e%10===0?e/10+" cl":e+" ml"},getWeightString:function(e){return e%1e3===0?e/1e3+" kg":e%100===0?e/100+" hg":e+" g"},fetchIngredientsForChosenRecipes:function(){var e=this;k.a.post(R.MAIN+R.RECIPE_INGREDIENTS_LIST,{recipeIds:this.chosenIds}).then((function(t){return e.recipeAndIngredients=t.data}))},accumulateIngredients:function(){for(var e=[],t=0;t<this.recipeAndIngredients.length;t++){console.log("run");for(var n=!1,i=0;i<e.length;i++)this.recipeAndIngredients[t].ingredientName===e[i].ingredientName&&(e[i].amount+=this.recipeAndIngredients[t].amount,n=!0);n||e.push(this.recipeAndIngredients[t])}this.accumulatedIngredients=e}},watch:{recipeAndIngredients:function(){this.accumulateIngredients()}}}),Pe=xe,Ce=(n("c489"),Object(l["a"])(Pe,Ae,Te,!1,null,"71d42a01",null)),Me=Ce.exports,Oe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[n("h1",[e._v("Home")]),n("p",{staticClass:"screen"},[e._v("This is home")])])}],Ue={},$e=Ue,De=(n("66ed"),Object(l["a"])($e,Oe,ye,!1,null,"97db05bc",null)),Le=De.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[n("h1",[e._v("Sök recept")]),n("p",{staticClass:"presentation"},[e._v("Klicka på receptet för att se mer information.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"input",domProps:{value:e.searchString},on:{input:function(t){t.target.composing||(e.searchString=t.target.value)}}}),n("b-button",{on:{click:e.search}},[e._v(" Search ")]),e._l(e.foundRecipes,(function(t){return n("div",{key:t.id,on:{click:function(n){return e.choose(t)}}},[e._v(" "+e._s(t.title)+" ")])})),e.chosenRecipe?n("Recipe",{attrs:{recipe:e.chosenRecipe,show:e.modalVisible},on:{closeModal:e.closeModal}}):e._e()],2)},Ge=[],Ve={data:function(){return{searchString:"",chosenRecipe:null,modalVisible:!1,foundRecipes:[]}},methods:{choose:function(e){this.chosenRecipe=e,this.modalVisible=!0},closeModal:function(){this.modalVisible=!1},selectRecipe:function(){},search:function(){this.foundRecipes=[],this.searchTitle(this.searchString),this.searchIngredient(this.searchString)},searchTitle:function(e){var t=this;k.a.get(R.MAIN+R.SEARCH_TITLE+e).then((function(e){return e.data.map((function(e){return t.foundRecipes.push(e)}))}))},searchIngredient:function(e){var t=this;k.a.get(R.MAIN+R.SEARCH_INGREDIENT+e).then((function(e){return e.data.map((function(e){return t.foundRecipes.push(e)}))}))}},computed:{recipeNames:function(){return this.$store.state.allRecipes.map((function(e){return e.title}))}},components:{Recipe:Re}},Fe=Ve,We=(n("4666"),Object(l["a"])(Fe,je,Ge,!1,null,"b0052208",null)),Be=We.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.recipeToUpdate?n("div",{staticClass:"content"},[n("h1",[e._v("Uppdatera recept")]),1===e.updateStep?n("div",[n("div",[e._v("Kontrollera receptets detaljer och gå vidare.")]),n("Details",{attrs:{originalTitle:e.title,originalInstructions:e.instructions,originalPreptime:e.preptime,originalPortions:e.portions,currentRecipe:e.recipeToUpdate},on:{nextStep:e.moveForward}})],1):e._e(),2===e.updateStep?n("div",[n("div",[n("div",[e._v("Kontrollera receptets ingredienser och gå vidare.")]),n("Ingredients",{staticClass:"ingredientBlock",attrs:{ingredients:e.recipeToUpdate.ingredients,currentRecipe:e.recipeToUpdate},on:{goBack:e.moveBackward,goForward:e.moveForward}})],1)]):e._e(),3===e.updateStep?n("div",[n("div",[e._v("Kontrollera receptets instruktioner och gå vidare.")]),n("UpdateSteps",{attrs:{steps:e.recipeToUpdate.steps,recipe:e.recipeToUpdate},on:{moveBack:e.moveBackward}})],1):e._e()]):e._e()},qe=[],Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",[e._v("Titel")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:e.placeholderTitle},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),n("div",[n("div",[e._v("Beskrivning")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.instructions,expression:"instructions"}],attrs:{type:"text",placeholder:e.placeholderInstruction},domProps:{value:e.instructions},on:{input:function(t){t.target.composing||(e.instructions=t.target.value)}}})]),n("div",[n("div",[e._v("Tillagningstid")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.preptime,expression:"preptime"}],attrs:{type:"text",placeholder:e.placeholderPreptime},domProps:{value:e.preptime},on:{input:function(t){t.target.composing||(e.preptime=t.target.value)}}})]),n("div",[n("div",[e._v("Antal portioner")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.portions,expression:"portions"}],attrs:{type:"text",placeholder:e.placeholderPortions},domProps:{value:e.portions},on:{input:function(t){t.target.composing||(e.portions=t.target.value)}}})]),n("div",{staticClass:"navigationButtons"},[n("b-button",{attrs:{variant:"primary"},on:{click:e.moveforward}},[e._v(" Gå vidare ")])],1)])},Je=[],Xe={props:["originalTitle","originalInstructions","originalPreptime","originalPortions","currentRecipe"],data:function(){return{title:"",instructions:"",preptime:"",portions:"",placeholderTitle:"Titel måste anges",placeholderInstruction:"Beskrivning måste anges",placeholderPreptime:"Ett heltal (minuter)",placeholderPortions:"Ett heltal (portioner)"}},methods:{moveforward:function(){var e=this;if(this.originalTitle===this.title&&this.originalInstructions===this.instructions&&this.originalPreptime===this.preptime&&this.originalPortions===this.portions)this.$emit("nextStep");else{var t=parseInt(this.portions),n=parseInt(this.preptime);if(!this.checkValues())return;var i={id:this.currentRecipe.recipeId,title:this.title,preparationTimeMinutes:n,noPortions:t,instructions:this.instructions};k.a.put(R.MAIN+R.UPDATE_RECIPE,i).then((function(t){202===t.status&&e.$emit("nextStep")}))}},checkValues:function(){var e=!0,t=parseInt(this.portions),n=parseInt(this.preptime);return isNaN(t)&&(this.portions="",e=!1),isNaN(n)&&(e=!1,this.preptime=""),""===this.title&&(e=!1),""===this.instructions&&(e=!1),e}},created:function(){this.title=this.originalTitle,this.instructions=this.originalInstructions,this.preptime=this.originalPreptime,this.portions=this.originalPortions}},ze=Xe,Qe=(n("f479"),Object(l["a"])(ze,Ke,Je,!1,null,"2f53b688",null)),Ye=Qe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Ingredienser")]),e._l(e.updatedIngredients,(function(t){return n("div",{key:t.id},[n("div",[n("b-button",{attrs:{pill:"",variant:"danger"},on:{click:function(n){return e.deleteIngredient(t.id)}}},[e._v("x")]),e._v(" "+e._s(e.getAmountsAsString(t.amount,t.units))+" av "+e._s(t.ingredientName)+" ")],1)])})),n("div",[n("div",{staticClass:"input"},[n("label",{attrs:{for:"input-with-list"}},[e._v("Lägg till ingrediens")]),n("b-form-input",{attrs:{list:"input-list",id:"input-with-list",disabled:e.enterInputMode,placeholder:"Write ingredient"},model:{value:e.ingredientName,callback:function(t){e.ingredientName=t},expression:"ingredientName"}}),n("b-form-datalist",{attrs:{id:"input-list",options:e.ingredients}}),n("b-button",{attrs:{variant:"success",disabled:e.enterInputMode},on:{click:e.onSubmit}},[e._v("Sök")])],1),void 0!==e.chosenIngredient.units?n("div",["WEIGHT"===e.chosenIngredient.units?n("InputWeightUnit",{on:{sendAmount:e.register,reset:e.resetInputField}}):e._e(),"VOLUME"===e.chosenIngredient.units?n("InputVolumeUnit",{on:{sendAmount:e.register,reset:e.resetInputField}}):e._e(),"AMOUNT"===e.chosenIngredient.units?n("InputAmountUnit",{on:{sendAmount:e.register,reset:e.resetInputField}}):e._e()],1):e._e(),n("b-modal",{attrs:{"hide-footer":"","hide-header":""},model:{value:e.setNewIngredient,callback:function(t){e.setNewIngredient=t},expression:"setNewIngredient"}},[n("RegisterNewIngredient",{on:{unitChosen:e.setUnit}})],1)],1),n("div",{staticClass:"navigationButtons"},[n("b-button",{attrs:{variant:"danger"},on:{click:e.goBack}},[e._v(" Bakåt ")]),n("b-button",{attrs:{variant:"primary"},on:{click:e.goForward}},[e._v(" Gå vidare ")])],1)],2)},et=[],tt=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"text",placeholder:"Hur mycket (ex 2)"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),n("span",{staticClass:"inputingredient"},[n("b-button",{on:{click:e.decreaseUnit}},[e._v("-")]),n("input",{attrs:{type:"text",disabled:""},domProps:{value:e.weights[e.unitNavigation].text}}),n("b-button",{on:{click:e.increaseUnit}},[e._v("+")])],1),n("span",[n("b-button",{attrs:{variant:"success"},on:{click:e.sendAmount}},[e._v("Lägg till")]),n("b-button",{attrs:{variant:"danger"},on:{click:e.reset}},[e._v("Ångra")])],1)])}),nt=[],it={data:function(){return{amount:0,value:0,unitNavigation:0,weights:[{value:1,text:"gr"},{value:100,text:"hg"},{value:1e3,text:"kg"}]}},methods:{increaseUnit:function(){this.unitNavigation>=this.weights.length-1?this.unitNavigation=0:this.unitNavigation++},decreaseUnit:function(){0===this.unitNavigation?this.unitNavigation=this.weights.length-1:this.unitNavigation--},sendAmount:function(){this.$emit("sendAmount",this.amount*this.weights[this.unitNavigation].value)},reset:function(){this.$emit("reset")}}},rt=it,st=(n("3c8c"),Object(l["a"])(rt,tt,nt,!1,null,"754fc50d",null)),at=st.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"text",placeholder:"Hur mycket (ex 2)"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),n("span",{staticClass:"inputingredient"},[n("b-button",{on:{click:e.decreaseUnit}},[e._v("-")]),n("input",{attrs:{type:"text",disabled:""},domProps:{value:e.volumes[e.unitNavigation].text}}),n("b-button",{on:{click:e.increaseUnit}},[e._v("+")])],1),n("span",[n("b-button",{attrs:{variant:"success"},on:{click:e.sendAmount}},[e._v("Lägg till")]),n("b-button",{attrs:{variant:"danger"},on:{click:e.reset}},[e._v("Ångra")])],1)])},ct=[],ut={data:function(){return{amount:0,value:0,unitNavigation:0,volumes:[{value:1,text:"ml / krm"},{value:5,text:"tsk"},{value:15,text:"msk"},{value:100,text:"dl"},{value:1e3,text:"l"}]}},methods:{increaseUnit:function(){this.unitNavigation>=this.volumes.length-1?this.unitNavigation=0:this.unitNavigation++},decreaseUnit:function(){0===this.unitNavigation?this.unitNavigation=this.volumes.length-1:this.unitNavigation--},sendAmount:function(){this.$emit("sendAmount",this.amount*this.volumes[this.unitNavigation].value)},reset:function(){this.$emit("reset")}}},lt=ut,pt=(n("779f"),Object(l["a"])(lt,ot,ct,!1,null,"e78d310e",null)),dt=pt.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"text",placeholder:"Hur många (ex 2)"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),n("span",{staticClass:"inputingredient"},[e._v(" st ")]),n("span",[n("b-button",{attrs:{variant:"success"},on:{click:e.sendAmount}},[e._v("Lägg till")]),n("b-button",{attrs:{variant:"danger"},on:{click:e.reset}},[e._v("Ångra")])],1)])},mt=[],gt={data:function(){return{amount:0}},methods:{sendAmount:function(){this.$emit("sendAmount",this.amount)},reset:function(){this.$emit("reset")}}},vt=gt,ft=(n("efd9"),Object(l["a"])(vt,ht,mt,!1,null,"19dd2bc6",null)),It=ft.exports,bt={props:["currentRecipe"],created:function(){this.getRecipe()},methods:{getAmountsAsString:function(e,t){switch(t){case"AMOUNT":return e+" st";case"WEIGHT":return e%1e3===0?e/1e3+" kg":e%100===0?e/100+" hg":e+" g";case"VOLUME":return e%1e3===0?e/1e3+" l":e%100===0?e/100+" dl":e%10===0?e/10+" cl":e+" ml"}},increaseUnit:function(){this.unitNavigation>=this.weights.length-1?this.unitNavigation=0:this.unitNavigation++},decreaseUnit:function(){0===this.unitNavigation?this.unitNavigation=this.weights.length-1:this.unitNavigation--},deleteIngredient:function(e){var t=this;k.a.delete(R.MAIN+R.DELETE_RECIPE_INGREDIENT+e).then((function(e){console.log(e),202===e.status&&t.getRecipe()}))},getRecipe:function(){var e=this;k.a.get(R.MAIN+R.GET_RECIPE+this.currentRecipe.recipeId).then((function(t){return e.updatedIngredients=t.data.ingredients}))},onSubmit:function(){this.enterInputMode=!0;var e=this.getChosenIngredient(this.ingredientName)[0];void 0===e?(this.chosenIngredient="",this.setNewIngredient=!0):(this.setNewIngredient=!1,this.chosenIngredient=e)},resetInputField:function(){this.resetSearchIngredient(),this.enterInputMode=!1},getChosenIngredient:function(e){return this.$store.state.allIngredients.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()}))},register:function(e){this.amount=e,this.enterInputMode=!1,this.registerNewRecipeIngredient()},resetSearchIngredient:function(){this.chosenIngredient="",this.ingredientName=""},setUnit:function(e){this.registerNewIngredient(e),this.setNewIngredient=!1},registerNewIngredient:function(e){var t=this,n={name:this.ingredientName,unit:e};k.a.post(R.MAIN+R.ADD_INGREDIENT,n).then((function(e){return t.chosenIngredient=e.data}))},registerNewRecipeIngredient:function(){var e=this,t={ingredientId:this.chosenIngredient.id,recipeId:this.currentRecipe.recipeId,amount:this.amount};k.a.post(R.MAIN+R.ADD_RECIPE_INGREDIENT,t).then((function(t){201===t.status&&(e.resetSearchIngredient(),e.getRecipe())}))},addIngredientToIngredientList:function(){this.$emit("addToIngredientList",this.chosenIngredient)},goBack:function(){this.$emit("goBack")},goForward:function(){this.$emit("goForward")}},data:function(){return{changeUnitFor:null,updatedIngredients:[],value:0,unitNavigation:0,weights:[{value:1,text:"gr"},{value:100,text:"hg"},{value:1e3,text:"kg"}],amount:0,ingredientName:"",enterInputMode:!1,chosenIngredient:"",setNewIngredient:!1}},computed:{ingredients:function(){return this.$store.state.allIngredients.map((function(e){return e.name}))}},components:{InputWeightUnit:at,InputVolumeUnit:dt,InputAmountUnit:It,RegisterNewIngredient:F}},_t=bt,St=(n("f699"),Object(l["a"])(_t,Ze,et,!1,null,"d7b2ce86",null)),Rt=St.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.recipe)+" "),e.updateMode?n("div",[e._l(e.recipeStepsInOrder,(function(t,i){return n("div",{key:t.id},[n("b-button",0!==i?{staticClass:"controlButtons",attrs:{variant:"primary"},on:{click:function(t){return e.moveUp(i)}}}:{staticClass:"controlButtons",attrs:{variant:"primary",disabled:""}},[e._v(" Upp ")]),i!==e.recipeStepsInOrder.length-1?n("b-button",{staticClass:"controlButtons",attrs:{variant:"info"},on:{click:function(t){return e.moveDown(i)}}},[e._v("Ner")]):n("b-button",{staticClass:"controlButtons",attrs:{variant:"info",disabled:""}},[e._v(" Ner ")]),n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.deleteStep(i)}}},[e._v("X")]),n("span",{staticClass:"text"},[e._v(" "+e._s(i+1)+": "+e._s(t.instruction)+" ")])],1)})),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newStep,expression:"newStep"}],attrs:{type:"text",placeholder:"Skriv in nytt steg"},domProps:{value:e.newStep},on:{input:function(t){t.target.composing||(e.newStep=t.target.value)}}}),n("b-button",{attrs:{variant:"success"},on:{click:e.addStep}},[e._v("Lägg till")])],2):n("div",[e._l(e.recipeStepsInOrder,(function(t){return n("div",{key:t.id},[e._v(e._s(t.sequence)+": "+e._s(t.instruction))])})),n("b-button",{attrs:{variant:"success"},on:{click:e.startUpdate}},[e._v("Ändra")])],2),n("div",{staticClass:"navigationButtons"},[n("b-button",{attrs:{variant:"danger"},on:{click:e.moveBackward}},[e._v(" Bakåt ")]),n("b-button",{attrs:{variant:"primary"},on:{click:e.stopUpdating}},[e._v("Spara och avsluta")])],1)])},kt=[],Et={props:["recipe"],data:function(){return{updateMode:!1,recipeStepsInOrder:[],newStep:"",recipeId:null,changesMade:!1}},methods:{updateSequence:function(){this.recipeStepsInOrder.sort(this.compare);for(var e=0;e<this.recipeStepsInOrder.length;e++)this.recipeStepsInOrder[e].sequence=e+1},setNewSequence:function(){for(var e=0;e<this.recipeStepsInOrder.length;e++)this.recipeStepsInOrder[e].sequence=e+1},startUpdate:function(){this.updateMode=!0,this.recipeId=this.recipe.recipeId,this.changesMade=!0},stopUpdating:function(){var e=this;if(this.changesMade){var t={recipeId:this.recipeId,steps:this.recipeStepsInOrder};k.a.put(R.MAIN+R.STEPS_UPDATE,t).then((function(t){202===t.status&&(e.$store.dispatch("getAllRecipes"),e.$store.dispatch("getAllIngredients"),e.$router.replace("allrecipes"))}))}else this.$router.replace("allrecipes")},addStep:function(){this.updateSequence(),this.recipeStepsInOrder.push({instruction:this.newStep,sequence:this.recipeStepsInOrder.length+1,recipeid:this.recipeId}),this.newStep=""},moveUp:function(e){var t=this.recipeStepsInOrder[e];this.recipeStepsInOrder.splice(e,1),this.recipeStepsInOrder.splice(e-1,0,t),this.setNewSequence()},moveDown:function(e){var t=this.recipeStepsInOrder[e];this.recipeStepsInOrder.splice(e,1),this.recipeStepsInOrder.splice(e+1,0,t),this.setNewSequence()},moveBackward:function(){this.$emit("moveBack")},deleteStep:function(e){this.recipeStepsInOrder.splice(e,1),this.setNewSequence()},compare:function(e,t){return e.sequence>t.sequence?1:e.sequence<t.sequence?-1:0}},created:function(){this.recipeStepsInOrder=JSON.parse(JSON.stringify(this.recipe.steps)).sort(this.compare)}},wt=Et,At=(n("65cf"),Object(l["a"])(wt,Nt,kt,!1,null,"73c74503",null)),Tt=At.exports,xt={created:function(){this.getCompleteRecipe()},methods:{getCompleteRecipe:function(){var e=this;void 0!==this.$route.params.id&&void 0!==this.$route.params.id&&k.a.get(R.MAIN+R.GET_RECIPE+this.$route.params.id).then((function(t){return e.recipeToUpdate=t.data}))},moveForward:function(){this.updateStep!==this.numberOfUpdateSteps&&this.updateStep++},moveBackward:function(){1!==this.updateStep&&this.updateStep--}},data:function(){return{recipeToUpdate:null,title:this.$route.params.title,instructions:this.$route.params.instructions,preptime:this.$route.params.preparationTimeMinutes,portions:this.$route.params.noPortions,updateStep:1,numberOfUpdateSteps:3}},components:{Ingredients:Rt,UpdateSteps:Tt,Details:Ye}},Pt=xt,Ct=(n("d5c4"),Object(l["a"])(Pt,He,qe,!1,null,"2e7d945e",null)),Mt=Ct.exports;i["default"].use(f["a"]);var Ot=[{path:"/addrecipe",name:"about",component:me},{path:"/home",name:"home",component:Le},{path:"/allrecipes",name:"allrecipes",component:we},{path:"/list",name:"recipelist",component:Me},{path:"/search",name:"search",component:Be},{path:"/update",name:"update",component:Mt}],yt=new f["a"]({routes:Ot}),Ut=yt,$t=n("2f62");i["default"].use($t["a"]);var Dt=new $t["a"].Store({state:{mainEndpoint:"http://localhost:8080",chosenDrinks:[],allRecipes:null,allIngredients:null},mutations:{addChosenDrinkId:function(e,t){t.id=(new Date).getTime(),e.chosenDrinks.push(t)},removeRecipe:function(e,t){var n=e.chosenDrinks.filter((function(e){return e.id!==t}));console.log(n),e.chosenDrinks=n},setAllRecipes:function(e,t){e.allRecipes=t},setAllIngredients:function(e,t){e.allIngredients=t}},actions:{getAllRecipes:function(e){var t=e.commit;k.a.get(R.MAIN+R.ALL_RECIPES).then((function(e){return t("setAllRecipes",e.data)}))},getAllIngredients:function(e){var t=e.commit;k.a.get(R.MAIN+R.ALL_INGREDIENTS).then((function(e){return t("setAllIngredients",e.data)}))}},modules:{}}),Lt=n("5f5b");n("f9e3"),n("2dd8");i["default"].config.productionTip=!1,i["default"].use(Lt["a"]),new i["default"]({router:Ut,store:Dt,render:function(e){return e(v)}}).$mount("#app")},"65cf":function(e,t,n){"use strict";var i=n("0607"),r=n.n(i);r.a},"66ed":function(e,t,n){"use strict";var i=n("436a"),r=n.n(i);r.a},"767a":function(e,t,n){},"779f":function(e,t,n){"use strict";var i=n("edd6"),r=n.n(i);r.a},"7df9":function(e,t,n){"use strict";var i=n("767a"),r=n.n(i);r.a},9424:function(e,t,n){"use strict";var i=n("bdc0"),r=n.n(i);r.a},a0f7:function(e,t,n){},a66f:function(e,t,n){},a8dc:function(e,t,n){},b407:function(e,t,n){},bdac:function(e){e.exports=JSON.parse('{"MAIN":"drinkspiration:8080","ADD_RECIPE":"/recipe/add","ALL_RECIPES":"/recipe/all","ALL_INGREDIENTS":"/ingredient/all","STEPS_UPDATE":"/steps/update","ADD_STEPS":"/steps/add","GET_RECIPE":"/recipe-ingredient/get/complete/id/","ADD_INGREDIENT":"/ingredient/add","ADD_RECIPE_INGREDIENT":"/recipe-ingredient/add","DELETE_INGREDIENT":"/ingredient/delete/","DELETE_RECIPE_INGREDIENT":"/recipe-ingredient/delete/","RECIPE_INGREDIENTS_LIST":"/recipe-ingredient/post/listRecipeIngredients","SEARCH_TITLE":"/recipe/find/searchstring/","SEARCH_INGREDIENT":"/recipe/find/ingredient/","UPDATE_RECIPE":"/recipe/update"}')},bdc0:function(e,t,n){},c489:function(e,t,n){"use strict";var i=n("1798"),r=n.n(i);r.a},d430:function(e,t,n){},d5c4:function(e,t,n){"use strict";var i=n("2089"),r=n.n(i);r.a},dad4:function(e,t,n){},edd6:function(e,t,n){},efd9:function(e,t,n){"use strict";var i=n("4379"),r=n.n(i);r.a},f479:function(e,t,n){"use strict";var i=n("a8dc"),r=n.n(i);r.a},f699:function(e,t,n){"use strict";var i=n("a0f7"),r=n.n(i);r.a}});
//# sourceMappingURL=app.c65830b2.js.map